<!doctype html>
<html lang="en-US">
<head>
  <title>KWS Yr13 Form 2021</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Shaun C-B">
  <meta name="keywords" content="Form Class, Kingsway">
  <link rel="stylesheet" href="styles.css">
  <link rel="shortcut icon" href="ui_images/page_iconICO.ico">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+HK:wght@300;700&display=swap" rel="stylesheet">
</head>

<body>
  <h1>KWS 2021 Form Classes Year 13</h1>
  <div id="classes-container" class="flex-container">

    <!-- Test Dropdown -->
    <!-- <div class="flex-child">
      <div class="form-class-title">
        <img id="test_button" src="ui_images/button_index.png" alt="Dropdown"
            onclick="expandDiv(test_div, test_button)">
        <h2>Test | 13TES | T101</h2>
      </div>
      <div id="test_div" class="form-class-content hidden">
        <ul id="test-list" class="student-list">
          <li>- student1</li>
          <li>- student2</li>
          <li>- student3</li>
          <li>- student4</li>
          <li>- student5</li>
          <li>- student6</li>
          <li>- student7</li>
          <li>- student8</li>
          <li>- student9</li>
          <li>- student10</li>
          <li>- student11</li>
          <li>- student12</li>
          <li>- student13</li>
          <li>- student14</li>
          <li>- student15</li>
          <li>- student16</li>
          <li>- student17</li>
          <li>- student18</li>
        </ul>
      </div>
    </div> -->

    <!-- 13BCO -->
    <div class="flex-child">
      <div class="form-class-title">
        <img id="_13BCO_button" class="rotate-animation-reverse" src="ui_images/button_index.png"
          alt="Dropdown" onclick="expandDiv(_13BCO_div, _13BCO_button)">
        <h2>Miss Coombridge | 13BCO | A210<h2>
      </div>
      <div id="_13BCO_div" class="form-class-content hidden expand-animation-reverse">
        <ul id="_13BCO-list" class="student-list">
          <!-- List inserted here -->
        </ul>
      </div>
    </div>

    <!-- 13CTH -->
    <div class="flex-child">
      <div class="form-class-title">
        <img id="_13CTH_button" class="rotate-animation-reverse" src="ui_images/button_index.png"
          alt="Dropdown" onclick="expandDiv(_13CTH_div, _13CTH_button)">
        <h2>Mr Thomson | 13CTH | K101</h2>
      </div>
      <div id="_13CTH_div" class="form-class-content hidden expand-animation-reverse">
        <ul id="_13CTH-list" class="student-list">
          <!-- List inserted here -->
        </ul>
      </div>
    </div>

    <!-- 13DWD -->
    <div class="flex-child">
      <div class="form-class-title">
        <img id="_13DWD_button" src="ui_images/button_index.png" class="rotate-animation-reverse"
          alt="Dropdown" onclick="expandDiv(_13DWD_div, _13DWD_button)">
        <h2>Mr Ward | 13DWD | A205</h2>
      </div>
      <div id="_13DWD_div" class="form-class-content hidden expand-animation-reverse">
        <ul id="_13DWD-list" class="student-list">
          <!-- List inserted here -->
        </ul>
      </div>
    </div>

    <!-- 13LPR -->
    <div class="flex-child">
      <div class="form-class-title">
        <img id="_13LPR_button" src="ui_images/button_index.png" class="rotate-animation-reverse"
          alt="Dropdown" onclick="expandDiv(_13LPR_div, _13LPR_button)">
        <h2>Mrs Price | 13LPR | S207</h2>
      </div>
      <div id="_13LPR_div" class="form-class-content hidden expand-animation-reverse">
        <ul id="_13LPR-list" class="student-list">
          <!-- List inserted here -->
        </ul>
      </div>
    </div>

    <!-- 13MHA -->
    <div class="flex-child">
      <div class="form-class-title">
        <img id="_13MHA_button" src="ui_images/button_index.png" class="rotate-animation-reverse"
          alt="Dropdown" onclick="expandDiv(_13MHA_div, _13MHA_button)">
        <h2>Mr Harris | 13MHA | K102</h2>
      </div>
      <div id="_13MHA_div" class="form-class-content hidden expand-animation-reverse">
        <ul id="_13MHA-list" class="student-list">
          <!-- List inserted here -->
        </ul>
      </div>
    </div>

    <!-- 13SCL -->
    <div class="flex-child">
      <div class="form-class-title">
        <img id="_13SCL_button" src="ui_images/button_index.png" class="rotate-animation-reverse"
          alt="Dropdown" onclick="expandDiv(_13SCL_div, _13SCL_button)">
        <h2>Mr Cleary | 13SCL | A201</h2>
      </div>
      <div id="_13SCL_div" class="form-class-content hidden expand-animation-reverse">
        <ul id="_13SCL-list" class="student-list">
          <!-- List inserted here -->
        </ul>
      </div>
    </div>

  </div>

  <p>Missing a name? Send a message to mail@shauncb.xyz</p>

  <!---------------------- Scripts ---------------------->

  <!-- Generate student lists in each dropdown -->
  <script src=https://dl.dropboxusercontent.com/s/3tfgnzzlin4d637/form_classes.js></script>
  <script>
    for(form_class of form_classes) {
      var listID = "_" + form_class.code + "-list";
      var list = document.getElementById(listID);
      // console.log(list);
      form_class.students.sort();
      for(student of form_class.students) {
        li = document.createElement("li");
        li.innerHTML = "&#9734 " + student;
        list.appendChild(li);
      }
    }
  </script>

  <!-- Expand divs -->
  <script>
    // Toggles animation class on collapsing divs which expands/closes them
    function expandDiv(selectedDiv, selectedButton) {
      // Oneshot if-statement to remove the hidden property on first expansion
      if(selectedDiv.classList.contains("hidden")) {
        selectedDiv.classList.toggle("hidden");
      }
      // Calculates height of selectedDiv
      var positionInfo = selectedDiv.getBoundingClientRect();
      var divHeight = positionInfo.height + "px";
      // console.log(divHeight);

      //Sets CSS variable to the div height
      var root = document.querySelector(":root");
      root.style.setProperty("--divHeight", divHeight);

      // Toggles expanding and retracting animation funcitons
      selectedDiv.classList.toggle("expand-animation");
      selectedDiv.classList.toggle("expand-animation-reverse");
      selectedButton.classList.toggle("rotate-animation");
      selectedButton.classList.toggle("rotate-animation-reverse");
    }
  </script>

  <!-- <script>
    var divs = document.getElementsByClassName("form-class-content");
    for(item of divs) {
      setTimeout(() => {
        if(item.classList.contains("hidden")) {
        item.classList.toggle("hidden");
        console.log(item + " is done");
        }
      }, 600);
    }
     
  </script> -->
</body>
</html>